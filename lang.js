// Language translations for English and Japanese
const translations = {
  en: {
    // Navigation
    navAbout: "About",
    navSkills: "Skills",
    navWork: "Work",
    navContact: "Contact",
    navDownloadCV: "Download CV",
    
    // Logo
    logoRole: "Developer / Researcher",
    
    // Hero section
    heroPre: "Open for collaborations & new roles",
    heroTitle1: "Hi, I'm ",
    heroTitle2: "Building thoughtful digital experiences.",
    heroSubtitle: "I'm a developer and researcher interested in hardware design, neural networks, and robotics.",
    heroTag1: "Hardware Engineering (ASIC/Verilog)",
    heroTag2: "Machine Learning",
    heroTag3: "Robotics / ROS",
    heroBtn: "View selected work",
    
    // Hero card
    heroCardLocation: "Based in Tokyo · Remote friendly",
    heroCardChip: "Portfolio Snapshot",
    heroCardBody1: "I enjoy working on hardware design, neural networks, and robotics. I care about building innovative solutions that push the boundaries of technology and create real-world impact.",
    heroCardBody2: "Outside of work, you'll find me exploring new technologies, contributing to open source, or working on research projects.",
    heroCardExp: "Experience",
    heroCardExpVal: "1+ yr",
    heroCardFocus: "Recent focus",
    heroCardFocusVal: "ASIC/ML",
    heroCardTz: "Time zone",
    heroCardTzVal: "GMT+9",
    heroCardStatus: "Currently accepting selected freelance / side projects.",
    heroCardEmail: "Email",
    heroCardGitHub: "GitHub",
    
    // About section
    aboutLabel: "About",
    aboutTitle: "A short introduction",
    aboutDesc: "A developer and researcher passionate about hardware, AI, and robotics.",
    aboutText1: "I'm a developer and researcher who works across hardware design, machine learning, and robotics. I enjoy building systems that combine software and hardware to solve complex problems.",
    aboutText2: "Recently, I've been working on Spiking Neural Networks implemented on ASIC and ROS/Autoware tools for autonomous vehicles. I enjoy working on projects that push technological boundaries.",
    aboutText3: "I'm currently exploring opportunities in hardware engineering, machine learning research, and autonomous systems development.",
    aboutHighlight1Title: "Background",
    aboutHighlight1Text: "Hardware engineering (Verilog/ASIC), Machine Learning, and Robotics (ROS/Autoware). Research-oriented approach.",
    aboutHighlight1Meta: "Engineering / Research · Self-driven learner",
    aboutHighlight2Title: "How I work",
    aboutHighlight2Text: "I like calm communication, clear scopes, and feedback loops that are quick but respectful. Good documentation makes me happy.",
    aboutHighlight2Meta: "Asynchronous-friendly · Remote-capable",
    
    // Skills section
    skillsLabel: "Skills",
    skillsTitle: "What I tend to use",
    skillsDesc: "This is a snapshot of tools and technologies I've been using recently. Feel free to adjust categories to match your profile.",
    skillCard1Title: "Hardware / ASIC",
    skillCard1Item1: "Verilog, Tiny Tapeout",
    skillCard1Item2: "Spiking Neural Networks",
    skillCard1Item3: "ASIC design & verification",
    skillCard2Title: "Machine Learning",
    skillCard2Item1: "Python, Jupyter Notebooks",
    skillCard2Item2: "Neural networks, STDP",
    skillCard2Item3: "Molecular simulation",
    skillCard3Title: "Robotics & Tools",
    skillCard3Item1: "ROS, Autoware, MCAP",
    skillCard3Item2: "TypeScript, Git & GitHub",
    
    // Work section
    workLabel: "Work",
    workTitle: "Selected projects",
    workDesc: "A selection of my recent projects showcasing hardware design, machine learning, and software development.",
    project1Pill: "2025 · Research",
    project1Title: "Reward-implemented Spiking Neural Network",
    project1Desc: "SNN that learns through STDP and Reward Feedback, designed for ASIC implementation with integrated on-chip memory using Tiny Tapeout.",
    project1Meta: "Verilog · ASIC · Neural Networks",
    project1Role: "Role: Hardware Design & Research",
    project1View: "View",
    project2Pill: "2025 · Personal",
    project2Title: "CosenseGraph",
    project2Desc: "A 3D visualization tool for Cosense (formerly Scrapbox) that displays page relationships as an interactive node graph with LLM-powered clustering.",
    project2Meta: "TypeScript · OpenAI API · 3D Visualization",
    project2Role: "Role: Full Stack Development",
    project2View: "View",
    project3Pill: "2025 · Tools",
    project3Title: "MCAP Reader for Autoware",
    project3Desc: "A ROS bag analyzer adapted for MCAP files, enabling trajectory analysis and sensor data visualization for autonomous vehicles.",
    project3Meta: "Python · ROS · Autoware",
    project3Role: "Role: Development & Analysis",
    project3View: "View",
    
    // Contact section
    contactLabel: "Contact",
    contactTitle: "Say hello",
    contactDesc: "Whether you're interested in working together, have a question, or just want to share an idea, feel free to get in touch.",
    contactText1: "The fastest way to reach me is by email, but I'm also occasionally active on GitHub and LinkedIn. Short introductions are welcome.",
    contactText2: "If you already have a project in mind, it helps to include your timeline, rough scope, and any links to references or existing work.",
    contactMeta: "Preferred contact hours: weekday evenings (GMT+9), but I'll reply as soon as I can.",
    contactResume: "Resume / CV",
    formName: "Name",
    formNamePlaceholder: "Who's reaching out?",
    formEmail: "Email",
    formEmailPlaceholder: "Where can I reply?",
    formMessage: "Message",
    formMessagePlaceholder: "Tell me a bit about what you have in mind.",
    formHint: "This form is only a visual example. Connect it to your backend or a service like Formspree / Netlify Forms.",
    formSubmit: "Send message",
    formSpam: "No spam. I'll only use your details to reply.",
    
    // Footer
    footerCopyright: "Crafted with care.",
    footerBackHome: "Back to home",
    footerBackTop: "Back to top",
    footerImprint: "Imprint",
    footerPrivacy: "Privacy"
  },
  ja: {
    // Navigation
    navAbout: "自己紹介",
    navSkills: "スキル",
    navWork: "実績",
    navContact: "お問い合わせ",
    navDownloadCV: "履歴書",
    
    // Logo
    logoRole: "開発者 / 研究者",
    
    // Hero section
    heroPre: "コラボレーション・新規案件を募集中",
    heroTitle1: "こんにちは、",
    heroTitle2: "思慮深いデジタル体験を構築しています。",
    heroSubtitle: "ハードウェア設計、ニューラルネットワーク、ロボティクスに興味を持つ開発者・研究者です。",
    heroTag1: "ハードウェア工学 (ASIC/Verilog)",
    heroTag2: "機械学習",
    heroTag3: "ロボティクス / ROS",
    heroBtn: "実績を見る",
    
    // Hero card
    heroCardLocation: "東京拠点 · リモート対応可",
    heroCardChip: "ポートフォリオ概要",
    heroCardBody1: "ハードウェア設計、ニューラルネットワーク、ロボティクスに取り組んでいます。技術の限界を押し広げ、現実世界に影響を与える革新的なソリューションの構築を大切にしています。",
    heroCardBody2: "仕事以外では、新しい技術の探求、オープンソースへの貢献、研究プロジェクトに取り組んでいます。",
    heroCardExp: "経験",
    heroCardExpVal: "1年以上",
    heroCardFocus: "最近の注力分野",
    heroCardFocusVal: "ASIC/ML",
    heroCardTz: "タイムゾーン",
    heroCardTzVal: "GMT+9",
    heroCardStatus: "現在、一部のフリーランス・サイドプロジェクトを受け付けています。",
    heroCardEmail: "メール",
    heroCardGitHub: "GitHub",
    
    // About section
    aboutLabel: "自己紹介",
    aboutTitle: "簡単な紹介",
    aboutDesc: "ハードウェア、AI、ロボティクスに情熱を持つ開発者・研究者です。",
    aboutText1: "ハードウェア設計、機械学習、ロボティクスを横断して活動する開発者・研究者です。ソフトウェアとハードウェアを組み合わせて複雑な問題を解決するシステム構築を楽しんでいます。",
    aboutText2: "最近は、ASICに実装されたスパイキングニューラルネットワークや、自動運転車両向けのROS/Autowareツールに取り組んでいます。技術的な限界を押し広げるプロジェクトに取り組むことを楽しんでいます。",
    aboutText3: "現在、ハードウェアエンジニアリング、機械学習研究、自律システム開発の機会を探しています。",
    aboutHighlight1Title: "バックグラウンド",
    aboutHighlight1Text: "ハードウェアエンジニアリング (Verilog/ASIC)、機械学習、ロボティクス (ROS/Autoware)。研究志向のアプローチ。",
    aboutHighlight1Meta: "エンジニアリング / 研究 · 自主的な学習者",
    aboutHighlight2Title: "働き方",
    aboutHighlight2Text: "穏やかなコミュニケーション、明確なスコープ、迅速だが丁寧なフィードバックループを好みます。良いドキュメントは私を幸せにします。",
    aboutHighlight2Meta: "非同期対応 · リモート可能",
    
    // Skills section
    skillsLabel: "スキル",
    skillsTitle: "よく使うもの",
    skillsDesc: "最近使用しているツールと技術のスナップショットです。プロフィールに合わせてカテゴリを調整してください。",
    skillCard1Title: "ハードウェア / ASIC",
    skillCard1Item1: "Verilog, Tiny Tapeout",
    skillCard1Item2: "スパイキングニューラルネットワーク",
    skillCard1Item3: "ASIC設計・検証",
    skillCard2Title: "機械学習",
    skillCard2Item1: "Python, Jupyter Notebooks",
    skillCard2Item2: "ニューラルネットワーク, STDP",
    skillCard2Item3: "分子シミュレーション",
    skillCard3Title: "ロボティクス & ツール",
    skillCard3Item1: "ROS, Autoware, MCAP",
    skillCard3Item2: "TypeScript, Git & GitHub",
    
    // Work section
    workLabel: "実績",
    workTitle: "選りすぐりのプロジェクト",
    workDesc: "ハードウェア設計、機械学習、ソフトウェア開発を紹介する最近のプロジェクトの一部です。",
    project1Pill: "2025 · 研究",
    project1Title: "報酬実装スパイキングニューラルネットワーク",
    project1Desc: "STDPと報酬フィードバックを通じて学習するSNN。Tiny Tapeoutを使用したオンチップメモリ統合のASIC実装向けに設計。",
    project1Meta: "Verilog · ASIC · ニューラルネットワーク",
    project1Role: "役割: ハードウェア設計 & 研究",
    project1View: "見る",
    project2Pill: "2025 · 個人",
    project2Title: "CosenseGraph",
    project2Desc: "Cosense (旧Scrapbox) の3D可視化ツール。ページ関係をLLMによるクラスタリングを備えたインタラクティブなノードグラフとして表示。",
    project2Meta: "TypeScript · OpenAI API · 3D可視化",
    project2Role: "役割: フルスタック開発",
    project2View: "見る",
    project3Pill: "2025 · ツール",
    project3Title: "Autoware用MCAPリーダー",
    project3Desc: "MCAPファイルに対応したROS bagアナライザー。自動運転車両の軌道解析とセンサーデータ可視化を可能に。",
    project3Meta: "Python · ROS · Autoware",
    project3Role: "役割: 開発 & 分析",
    project3View: "見る",
    
    // Contact section
    contactLabel: "お問い合わせ",
    contactTitle: "ご連絡ください",
    contactDesc: "一緒に仕事をしたい、質問がある、またはアイデアを共有したい場合は、お気軽にご連絡ください。",
    contactText1: "最も早く連絡できるのはメールですが、GitHubやLinkedInでも時々活動しています。簡単な自己紹介は大歓迎です。",
    contactText2: "すでにプロジェクトをお持ちの場合は、タイムライン、おおよその範囲、参考資料や既存作品へのリンクを含めていただけると助かります。",
    contactMeta: "希望連絡時間: 平日夜 (GMT+9)、ただしできるだけ早く返信します。",
    contactResume: "履歴書 / CV",
    formName: "お名前",
    formNamePlaceholder: "お名前をお聞かせください",
    formEmail: "メールアドレス",
    formEmailPlaceholder: "返信先をお知らせください",
    formMessage: "メッセージ",
    formMessagePlaceholder: "お考えのことを少しお聞かせください。",
    formHint: "このフォームは視覚的なサンプルです。バックエンドまたはFormspree / Netlify Formsなどのサービスに接続してください。",
    formSubmit: "メッセージを送信",
    formSpam: "スパムはありません。返信のためにのみ情報を使用します。",
    
    // Footer
    footerCopyright: "心を込めて作成しました。",
    footerBackHome: "ホームに戻る",
    footerBackTop: "トップに戻る",
    footerImprint: "インプリント",
    footerPrivacy: "プライバシー"
  }
};

// Get current language from localStorage or default to English
function getCurrentLang() {
  return localStorage.getItem('lang') || 'en';
}

// Set current language
function setCurrentLang(lang) {
  localStorage.setItem('lang', lang);
}

// Apply translations to the page
function applyTranslations(lang) {
  const t = translations[lang];
  
  // Update all elements with data-i18n attribute
  document.querySelectorAll('[data-i18n]').forEach(el => {
    const key = el.getAttribute('data-i18n');
    if (t[key]) {
      el.textContent = t[key];
    }
  });
  
  // Update all elements with data-i18n-placeholder attribute
  document.querySelectorAll('[data-i18n-placeholder]').forEach(el => {
    const key = el.getAttribute('data-i18n-placeholder');
    if (t[key]) {
      el.placeholder = t[key];
    }
  });
  
  // Update the lang attribute on html element
  document.documentElement.lang = lang === 'ja' ? 'ja' : 'en';
  
  // Update the language switcher button text
  const langBtn = document.querySelector('.lang-switcher');
  if (langBtn) {
    langBtn.textContent = lang === 'ja' ? 'EN' : '日本語';
    langBtn.setAttribute('aria-label', lang === 'ja' ? 'Switch to English' : '日本語に切り替え');
  }
}

// Toggle language
function toggleLanguage() {
  const currentLang = getCurrentLang();
  const newLang = currentLang === 'en' ? 'ja' : 'en';
  setCurrentLang(newLang);
  applyTranslations(newLang);
}

// Initialize language on page load
document.addEventListener('DOMContentLoaded', () => {
  applyTranslations(getCurrentLang());
});
